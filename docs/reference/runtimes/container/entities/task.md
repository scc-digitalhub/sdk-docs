# Task

The Container runtime supports four task actions: `job`, `serve`, `build`, and `deploy`. A `Task` is created via the `run()` method; task parameters are passed through that call and differ by action.

## Parameters (Shared)

| Name | Type | Description |
| --- | --- | --- |
| [action](#task-actions) | str | Task action. One of: `job`, `build`, `serve`, `deploy`. **Required** |
| [node_selector](../../../configuration/kubernetes/overview.md#node-selector) | list[dict] | Node selector. |
| [volumes](../../../configuration/kubernetes/overview.md#volumes) | list[dict] | List of volumes. |
| [resources](../../../configuration/kubernetes/overview.md#resources) | dict | Resource limits/requests. Example: `{"limits": {"cpu": "1", "memory": "512Mi"}, "requests": {"cpu": "250m", "memory": "128Mi"}}`. |
| [affinity](../../../configuration/kubernetes/overview.md#affinity) | dict | Affinity configuration. |
| [tolerations](../../../configuration/kubernetes/overview.md#tolerations) | list[dict] | Tolerations. |
| [envs](../../../configuration/kubernetes/overview.md#secrets-envs) | list[dict] | Environment variables. Example: `[{"name": "FOO", "value": "bar"}]`. |
| [secrets](../../../configuration/kubernetes/overview.md#secrets-envs) | list[str] | List of secret names. |
| [profile](../../../configuration/kubernetes/overview.md#profile) | str | Profile template. |

## Action-Specific Parameters

### Job

| Name | Type | Description |
| --- | --- | --- |
| [fs_group](../../../configuration/kubernetes/overview.md#security-context) | int | File system group ID. |
| [run_as_user](../../../configuration/kubernetes/overview.md#security-context) | int | User ID to run the container. |
| [run_as_group](../../../configuration/kubernetes/overview.md#security-context) | int | Group ID to run the container. |

### Serve

| Name | Type | Description |
| --- | --- | --- |
| [replicas](../../../configuration/kubernetes/overview.md#replicas) | int | Number of replicas. |
| [service_ports](../../../configuration/kubernetes/overview.md#service-port-type) | list[dict] | Ports to expose for the service. Example: `[{"port": 80, "targetPort": 8080}]`. |
| [service_type](../../../configuration/kubernetes/overview.md#service-port-type) | str | Service type. |
| [run_as_user](../../../configuration/kubernetes/overview.md#security-context) | int | User ID to run the container. |
| [run_as_group](../../../configuration/kubernetes/overview.md#security-context) | int | Group ID to run the container. |

### Build

| Name | Type | Description |
| --- | --- | --- |
| [instructions](#instructions) | list[str] | Build instructions executed as RUN lines in the generated Dockerfile. |
| base_image | str | Base image used when building the execution image. Required for `build` unless a full image is provided. |
| image | str | Target image name:tag to build/push. If not provided, a local image name may be generated by the runtime. |

### Deploy

| Name | Type | Description |
| --- | --- | --- |
| [replicas](../../../configuration/kubernetes/overview.md#replicas) | int | Number of replicas. |
| [fs_group](../../../configuration/kubernetes/overview.md#security-context) | int | File system group ID. |
| [run_as_user](../../../configuration/kubernetes/overview.md#security-context) | int | User ID to run the container. |
| [run_as_group](../../../configuration/kubernetes/overview.md#security-context) | int | Group ID to run the container. |

## Instructions

Instructions are executed as `RUN` instructions in the generated Dockerfile. Example:

```python
instructions = ["apt-get install -y git"]
```

## Task Actions

Supported actions:

- `job`
- `build`
- `serve`
- `deploy`
